<app-nav-bar></app-nav-bar>
<div class="container fadein animation-iteration-1 animation-duration-500">
    <p-breadcrumb class="m-2" [model]="items" [home]="home"></p-breadcrumb>
    <div class="row justify-content-center">
        <div class="col-12 col-lg-5">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-primary text-white">
                    <i class=" bi bi-card-text me-1"></i>
                    Formulario
                </div>
                <form #form = "ngForm" (ngSubmit)="crearPartido(form)" novalidate>
                    <div class="card-body d-grid gap-1 w-full" >
                        <div class="col-8 col-md-10 p-2">
                            <label for="labelNombre" class="form-label">Club Local</label><br>
                            <p-dropdown name="clubLocalPartido" styleClass="max-w-full" [options]="clubesParticipantes" placeholder="Seleccione" [(ngModel)]="partidoDto.idClubLocal" optionLabel="nombreClub" optionValue="id" [required]="true"></p-dropdown> 
                        </div>
                        <div class="col-8 col-md-10 p-2">
                                <label for="labelNombre" class="form-label">Club Visitante</label><br>
                                <p-dropdown name="clubVisitantePartido" styleClass="max-w-full" [options]="clubesParticipantes" placeholder="Seleccione" [(ngModel)]="partidoDto.idClubVisitante" optionLabel="nombreClub" optionValue="id" [required]="true"></p-dropdown> 
                                <!-- <input type="text" class="form-control p-inputtext" #nombre="ngModel" [(ngModel)]="asociacionDeportivaDto.nombre" name="nombreAsoc" id="nombreAsoc" placeholder="Ingrese el nombre" required minlength="8" pattern={{patron}}>
                                <div *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
                                    <p-message styleClass="m-1" *ngIf="nombre.errors?.required"  severity="error" text="El nombre es requerido"></p-message>
                                    <p-message styleClass="m-1" *ngIf="nombre.errors?.minlength" severity="error" text="Debe tener al menos 8 caracteres"></p-message>
                                    <p-message styleClass="m-1" *ngIf="nombre.errors?.pattern"   severity="error" text="Solo se permiten letras"></p-message>
                                </div> -->
                            </div>
                        <div class="row p-2">
                            <label for="labelFecha" class="form-label">Fecha y hora</label><br>
                            <p-calendar [showTime]="true" name="fechaPart" [(ngModel)]="fechaPartido" placeholder="Seleccione" requerid="true"></p-calendar>
                        </div>
                        <div class="p-2">
                            <label for="labelObserv" class="form-label">Observaciones</label>
                            <textarea class="form-control p-inputtext" #obs="ngModel" [(ngModel)]="partidoDto.observaciones" name="obsPart" id="obsPartido" placeholder="Ingrese una descripcion u observacion" required minlength="8"></textarea>
                            <div *ngIf="obs.invalid && (obs.dirty || obs.touched)">
                                <p-message styleClass="m-1" *ngIf="obs.errors?.required"  severity="error" text="Campo requerido"></p-message>
                                <p-message styleClass="m-1" *ngIf="obs.errors?.minlength" severity="error" text="Debe tener al menos 8 caracteres"></p-message>
                            </div>
                        </div>                  
                    </div>
                    <div class="card-footer d-flex justify-content-between">
                        <button pRipple pButton type="button" class="p-button-rounded p-button-text p-button-secondary p-button-rounded" icon="pi pi-arrow-left" label="Calendario" (click)="navegarACalendario()"></button>
                        <button pRipple pButton type="submit" class="p-button-rounded p-button-raised" icon="pi pi-check" label="Guardar" [disabled]="!form.valid || fechaPartido===null"></button>
                    </div>
                </form>
            </div>
        </div>
        <div class="col-12 col-lg-7 mb-4">
            <app-detalle-partidos  [partidos]="partidosDeJornada" [accionesVisibles]="false"></app-detalle-partidos>
        </div>
    </div>
</div>
<app-footer></app-footer>